pipeline {
  agent any;



  stages {
    stage("GIT") {
      steps {
        sh 'git checkout karoui'
        sh 'git pull origin karoui'
      }
    }
    //
stage("MAVEN BUILD") {
      steps {
       dir('gestion-station-ski') {
        sh 'mvn clean install -Dmaven.test.skip=true'
      }
    }
    }




 stage("SONARQUBE") {
      steps {
      dir('gestion-station-ski') {
       sh "mvn sonar:sonar -Dsonar.login=admin -Dsonar.password=azerty"
      }}
    }}

 stage("MOCKITO") {
       steps {
       dir('gestion-station-ski') {
         sh "mvn test -Dtest=tn.esprit.spring.services.SubscriptionServicesImplMock"
       }}
     }
}
